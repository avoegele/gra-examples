<!doctype html>
<html>
<head>
    <script>
        window.targetGlobalSettings = {
            cookieDomain: 'avoegele.github.io'
        }
    </script>

    <script>
    ;(function(win, doc, style, timeout) {
        var STYLE_ID = 'at-body-style';

        function getParent() {
            return doc.getElementsByTagName('head')[0];
        }

        function addStyle(parent, id, def) {
            if (!parent) {
                return;
            }
            var style = doc.createElement('style');
            style.id = id;
            style.innerHTML = def;
            parent.appendChild(style);
        }

        function removeStyle(parent, id) {
            if (!parent) {
                return;
            }
            var style = doc.getElementById(id);
            if (!style) {
                return;
            }
            parent.removeChild(style);
        }
        addStyle(getParent(), STYLE_ID, style);
        setTimeout(function() {
            removeStyle(getParent(), STYLE_ID);
        }, timeout);
    }(window, document, "body {opacity: 0 !important}", 3000));
    </script>

    <script src="https://assets.adobedtm.com/4a848ae9611a/2b52e317bf13/launch-fb1da3aec163-development.js" async></script>

    <style>
        .box {
            display:block;
            width: 300px;
            height: 150px;
            background-color: red;
        }
    </style>
</head>
<body>
    <h1>Pre-hiding snippet test with async launch deployment</h1>

    <pre>(!) The active Experience changes the red box to a green box</pre>

    <div class=box></div>

    <script>
    window.appData = window.appData || [];
    appData.push({
        event: 'pageLoad',
        page: {
            name: 'home',
            productName: 'sb'
        }
    });
    </script>

</body>
</html>
